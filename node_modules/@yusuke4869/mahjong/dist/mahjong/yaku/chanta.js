"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.chanta = void 0;
const convert_1 = require("../hai/convert");
const convert_2 = require("./convert");
const chanta = (data) => {
    let existsFuro = false;
    let existsJihai = false;
    for (const elem of data.agari.elements) {
        if (elem.furo)
            existsFuro = true;
        if ((0, convert_1.getHaiSuffix)(elem.hai[0]) === "z") {
            existsJihai = true;
            continue;
        }
        let existsRoto = false;
        for (const h of elem.hai) {
            const num = (0, convert_1.getHaiNormalNum)(h);
            if (num === 1 || num === 9) {
                existsRoto = true;
                break;
            }
        }
        if (!existsRoto)
            return convert_2.notExistsRes;
    }
    if (existsJihai) {
        const res = {
            exists: true,
            yaku: "混全帯么九",
            han: existsFuro ? 1 : 2,
            yakuman: 0,
        };
        return res;
    }
    const res = {
        exists: true,
        yaku: "純全帯么九",
        han: existsFuro ? 2 : 3,
        yakuman: 0,
    };
    return res;
};
exports.chanta = chanta;
//# sourceMappingURL=chanta.js.map