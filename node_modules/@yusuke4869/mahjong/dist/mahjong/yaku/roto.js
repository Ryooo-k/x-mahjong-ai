"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.roto = void 0;
const convert_1 = require("../hai/convert");
const convert_2 = require("./convert");
const roto = (data) => {
    let existsJihai = false;
    let existsRoto = false;
    for (const elem of data.agari.elements) {
        if (elem.type === "shuntsu")
            return convert_2.notExistsRes;
        const h = elem.hai[0];
        if ((0, convert_1.getHaiSuffix)(h) === "z") {
            existsJihai = true;
            continue;
        }
        const num = (0, convert_1.getHaiNormalNum)(h);
        if (num !== 1 && num !== 9)
            return convert_2.notExistsRes;
        existsRoto = true;
    }
    if (!existsRoto)
        return convert_2.notExistsRes;
    if (existsJihai) {
        const res = {
            exists: true,
            yaku: "混老頭",
            han: 2,
            yakuman: 0,
        };
        return res;
    }
    const res = {
        exists: true,
        yaku: "清老頭",
        han: 0,
        yakuman: 1,
    };
    return res;
};
exports.roto = roto;
//# sourceMappingURL=roto.js.map